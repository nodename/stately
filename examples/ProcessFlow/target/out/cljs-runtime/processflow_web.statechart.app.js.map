{"version":3,"sources":["processflow_web/statechart/app.cljs"],"mappings":";AAGA,GAAA,QAAAA,4CAAAC,uDAAAC,2DAAAC;AAAA;AAAA,AAAA,yCAAA,2CAAA,2DAAA,2CAAA,1LAASC,6PACsB,WACIC;AADJ,AAEG,IAAMC,KAAG,WAAA,XAACC;AAAD,AACG,iDAAA,mFAAA,7HAACC;GADJ;AAAT,AAGE,wDAAA,jDAACC,8CAAMJ,gEAAaC;GANxD,sEAO+B,WACID;AADJ,AAEG,AAACK,aAAgB,AAAA,2FAAWL;;AAC5B,yDAAA,lDAACM,+CAAON;GAV1C,+DAW+B,WACIA;AADJ,AAEG,wDAAA,oEAAA,rHAACI,8CAAMJ;WAbzC,oEAAA,gDAAA,mFAAA,mEAAA,qFAAA,2CAAA,wDAAA,qFAAA,mFAAA,6EAAA,oFAAA,2CAAA,wDAAA,mEAAA,2DAAA,mFAAA,mFAAA,yFAAA,mEAAA,mEAAA,yDAAA,2CAAA,mEAAA,mCAAA,6EAAA,2CAAA,sEAAA,mFAAA,mFAAA,mFAAA,qEAAA,mFAAA,mFAAA","names":["js/processflow-web","js/processflow-web.statechart","js/processflow-web.statechart.app","js/processflow-web.statechart.app.process","processflow-web.statechart.app/process","db","id","js/setTimeout","nodename.stately.core/dispatch-transition","cljs.core.assoc","js/clearTimeout","cljs.core.dissoc"],"sourcesContent":["(ns processflow-web.statechart.app\n  (:require [nodename.stately.core :refer [dispatch-transition]]))\n\n(defonce process\n  {:actions     {:start-timer  (fn\n                                  [db]\n                                  (let [id (js/setTimeout\n                                             #(dispatch-transition [:processing-done])\n                                             2000)]\n                                    (assoc db :timer-id id)))\n                 :cancel-timer (fn\n                                  [db]\n                                  (js/clearTimeout (:timer-id db))\n                                  (dissoc db :timer-id))\n                 :emit-done    (fn\n                                  [db]\n                                  (assoc db :last-signal \"processingDone\"))}\n   :transitions {[:process/idle       :start-processing] {:target :process/processing}\n                 [:process/processing :processing-done]  {:target  :process/idle\n                                                          :actions [[:emit-done]]}}\n   :start-state :process/idle\n   :states      {:process/idle       {}\n                 :process/processing {:entry-actions [[:start-timer]]\n                                      :exit-actions  [[:cancel-timer]]}}})\n"]}