{"version":3,"sources":["nodename/stately/communications/impl/logging.cljs"],"mappings":"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","names":["p1__61269#","p1__61270#","p1__61271#","p1__61272#","nodename.stately.communications.impl.logging/default-loggers","js/console","nodename.stately.communications.impl.logging/loggers","cljs.core.atom","nodename.stately.communications.impl.logging/set-loggers!","new-loggers","js/Error","cljs.core/empty?","clojure.set.difference","cljs.core/set","cljs.core/keys","cljs.core.swap_BANG_","cljs.core/merge","var_args","args__5732__auto__","len__5726__auto__","i__5727__auto__","argseq__5733__auto__","cljs.core/IndexedSeq","nodename.stately.communications.impl.logging/log","seq61276","self__5712__auto__","cljs.core/seq","args","G__61280","fexpr__61279","cljs.core/deref","cljs.core.apply","cljs.core/str","nodename.stately.communications.impl.logging/warn","seq61282","G__61287","fexpr__61286","nodename.stately.communications.impl.logging/group","seq61288","G__61297","fexpr__61296","nodename.stately.communications.impl.logging/groupEnd","seq61302","G__61304","fexpr__61303","nodename.stately.communications.impl.logging/error","seq61308","G__61311","fexpr__61310"],"sourcesContent":["(ns nodename.stately.communications.impl.logging\n  (:require\n    [clojure.set   :refer [difference]]))\n\n;; Copied from re-frame\n\n;; -- Logging -----------------------------------------------------------------\n;;\n;; re-frame internally uses a set of logging functions which, by default,\n;; print to js/console.\n;; Use set-loggers! if you want to change this default behaviour.\n;; In production environment, you may want to capture exceptions and POST\n;; them somewhere.  to , you might want to override the way that exceptions are\n;; handled by overridding \"error\"\n;;\n(def default-loggers\n  {:log       #(.log js/console %)\n   :warn      #(.warn js/console %)\n   :error     #(.error js/console %)\n   :group     #(if (.-groupCollapsed js/console) (.groupCollapsed js/console %) (.log js/console %))  ;; group does not exist  < IE 11\n   :groupEnd  #(when (.-groupEnd js/console) (.groupEnd js/console))})              ;; groupEnd does not exist  < IE 11\n\n;; holds the current set of loggers.\n(def loggers (atom default-loggers))\n\n(defn set-loggers!\n  \"Change the set (subset?) of logging functions used by stately.\n  'new-loggers' should be a map which looks like default-loggers\"\n  [new-loggers]\n  (assert  (empty? (difference (set (keys new-loggers)) (set (keys default-loggers))))\n           \"Unknown keys in new-loggers\")\n  (swap! loggers merge new-loggers))\n\n\n(defn log      [& args] ((:log @loggers)      (apply str args)))\n(defn warn     [& args] ((:warn @loggers)     (apply str args)))\n(defn group    [& args] ((:group @loggers)    (apply str args)))\n(defn groupEnd\n  [& args] ((:groupEnd @loggers) (apply str args)))\n(defn error    [& args] ((:error @loggers)    (apply str args)))"]}