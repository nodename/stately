{"version":3,"sources":["lightswitch_web/ui/app.cljs"],"mappings":";AAQA,2DAAA,3DAACA,oLAAuB,WAAKC,GAAGC;AAAR,AAAW,OAAA,qGAAgBD;;AACnD,2DAAA,3DAACD,oKAAuB,WAAKC,GAAGC;AAAR,AAAW,OAAA,qFAAQD;;AAE3C,4CAAA,2CAAA,2DAAA,WAAA,oEAAA,MAAA,yDAAA,UAAA,gEAAA,1WAAKE;AAML,oCAAA,pCAAMC;AAAN,AAEE,IAAMC,SAAO,sDAAA,mFAAA,zIAACC;IACRC,QAAO,sDAAA,mFAAA,zIAACD;AADd,AAEE;AAAA,AAEE,IAAME,YAAI,0BAAA,AAAAC,wBAAA,lDAACC,0CAAWL;AAAtB,AAAA,0FAAA,mDAAA,2CAAA,uDAAA,2CAAA,mEAAA,YAAA,gEAAA,QAAA,yDAAA,YAAA,iEAAA,yBAAA,mFAAA,kDAAA,uBAAA,mFAAA,mDAAA,2CAAA,uDAAA,2CAAA,gEAAA,OAAA,yDAAA,SAAA,mEAAA,IAAA,sFAAA,wHAAA,iBAAA,mFAAA,mDAAA,2CAAA,uDAAA,2CAAA,gEAAA,OAAA,mEAAA,OAAA,yDAAA,aAAA,oIAAA,mFAAA,yDAAA,2CAAA,uDAAA,2CAAA,gEAAA,OAAA,2DAAA,YAAA,yDAAA,UAAA,sEAAA,MAAA,yDAAA,OAAA,iEAAA,OAAA,uDAAA,gBAAA,6DAAA,xlDAUiC,aAAA,UAAA,rBAAIG,+FACJ,aAAA,AAAA,mBAAA,9BAAMA,smBAMP,aAAA,OAAA,lBAAIA,0CAChC,aAAA,KAAA,hBAAIA;AAlBR,AA2BwB,iDAAA,mFAAA,7HAACG;WA3BzB,eAAA,mFAAA,mDAAA,2CAAA,uDAAA,2CAAA,gEAAA,OAAA,gEAAA,OAAA,uDAAA,uBAiCI,CAAA,gEAAyB,iBAAAC,mBAAA,AAAAH,gBAAKF;AAAL,AAAA,oBAAAK;AAAAA;;AAAA;;wBAjC7B,mFAAA,mDAAA,2CAAA,uDAAA,2CAAA,gEAAA,uBAAA,mFAAA,yDAAA,2CAAA,iGAAA,6DAAA,vGAoCqBT;AApCrB,AAqCyB,OAACU,iDAAO,AAACC;WArClC,qBAAA,mFAAA,yDAAA,2CAAA,iGAAA,6DAAA,vGAuCqBX;AAvCrB,AAwCyB,OAACU,iDAAO,sDAAA,AAAAJ,+CAAA,uGAAA,uEAAA,nRAACM,sEAAQC;WAxC1C,aAAA,mFAAA,yDAAA,2CAAA,iGAAA,kGAAA,5IA0CqBb,uGACGc","names":["re_frame.core.reg_sub","db","_","lightswitch-web.ui.app/small-button-style","lightswitch-web.ui.app/app-screen","active","re_frame.core.subscribe","count","on?","cljs.core/deref","cljs.core/contains?","nodename.stately.core/dispatch-transition","or__5002__auto__","cljs.pprint.pprint","nodename.stately.tree/tree","cljs.core.dissoc","nodename.stately.comms/app-db","cljs.user/show-active-states"],"sourcesContent":["(ns lightswitch-web.ui.app\n  (:require [cljs.pprint :refer [pprint]]\n            [re-frame.core :refer [reg-sub subscribe]]\n            [nodename.stately.comms :refer [app-db]]\n            [nodename.stately.core :refer [dispatch-transition]]\n            [nodename.stately.tree :refer [tree]]\n            [cljs.user :refer [show-active-states]]))\n\n(reg-sub :active-states (fn [db _] (:active-states db)))\n(reg-sub :count         (fn [db _] (:count db)))\n\n(def small-button-style\n  {:padding      \"4px 10px\"\n   :margin-right \"6px\"\n   :cursor       \"pointer\"\n   :font-size    \"12px\"})\n\n(defn app-screen\n  []\n  (let [active (subscribe [:active-states])\n        count  (subscribe [:count])]\n    (fn\n      []\n      (let [on? (contains? @active :light/on)]\n        [:div {:style {:font-family \"monospace\"\n                       :max-width   \"280px\"\n                       :margin      \"60px auto\"\n                       :text-align  \"center\"}}\n         [:h1 \"Light Switch\"]\n\n         [:div {:style {:font-size     \"80px\"\n                        :margin        \"20px 0\"\n                        :line-height   \"1\"\n                        :color         (if on? \"#f5c542\" \"#aaa\")\n                        :text-shadow   (when on? \"0 0 20px #f5c542\")}}\n          \"\u25cf\"]\n\n         [:div {:style {:font-size    \"20px\"\n                        :font-weight  \"bold\"\n                        :margin       \"8px 0 20px\"\n                        :color        (if on? \"#333\" \"#999\")}}\n          (if on? \"ON\" \"OFF\")]\n\n         [:button {:style    {:font-size     \"18px\"\n                              :padding       \"10px 28px\"\n                              :cursor        \"pointer\"\n                              :border-radius \"6px\"\n                              :border        \"none\"\n                              :background    \"#444\"\n                              :color         \"white\"}\n                   :on-click #(dispatch-transition [:flip])}\n          \"Flip\"]\n\n         [:div {:style {:margin-top \"24px\"\n                        :font-size  \"14px\"\n                        :color      \"#666\"}}\n          (str \"Times turned on: \" (or @count 0))]\n\n         [:div {:style {:margin-top \"16px\"}}\n          [:button {:style small-button-style\n                    :on-click #(pprint (tree))}\n           \"statechart\"]\n          [:button {:style small-button-style\n                    :on-click #(pprint (dissoc @app-db :tree :active-states :parents))}\n           \"db\"]\n          [:button {:style small-button-style\n                    :on-click show-active-states}\n           \"active states\"]]]))))\n"]}